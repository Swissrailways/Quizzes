<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SBB Quiz üá®üá≠</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #c0392b 0%, #1a1a3e 60%, #0f1a2e 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      max-width: 700px;
      width: 100%;
      overflow: hidden;
      box-shadow: 0 25px 60px rgba(0,0,0,0.4);
    }

    .header {
      background: linear-gradient(135deg, #c0392b, #e74c3c);
      color: white;
      padding: 30px;
      text-align: center;
    }

    .header .logo { font-size: 48px; margin-bottom: 8px; }
    .header h1 { font-size: 28px; font-weight: 800; letter-spacing: 1px; }
    .header p { font-size: 14px; opacity: 0.85; margin-top: 6px; }

    .progress-bar-wrap { background: #f0f0f0; height: 8px; }
    .progress-bar {
      height: 8px;
      background: linear-gradient(90deg, #c0392b, #e74c3c);
      transition: width 0.4s ease;
      width: 0%;
    }

    .start-screen { padding: 40px; text-align: center; }

    .start-screen .train-anim {
      font-size: 56px;
      margin-bottom: 16px;
      animation: slide 2s infinite alternate ease-in-out;
    }

    @keyframes slide {
      from { transform: translateX(-10px); }
      to   { transform: translateX(10px); }
    }

    .start-screen h2 { font-size: 24px; font-weight: 800; color: #1a1a2e; margin-bottom: 12px; }
    .start-screen p  { color: #666; font-size: 15px; margin-bottom: 24px; line-height: 1.6; }

    .name-wrap { margin-bottom: 24px; }

    .name-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: #555;
      margin-bottom: 8px;
      text-align: left;
    }

    .name-input {
      width: 100%;
      padding: 14px 18px;
      border: 2.5px solid #e0e0e0;
      border-radius: 12px;
      font-size: 16px;
      font-family: inherit;
      color: #1a1a2e;
      transition: border-color 0.2s;
      outline: none;
    }

    .name-input:focus { border-color: #c0392b; }
    .name-input::placeholder { color: #bbb; }

    .name-error {
      color: #c0392b;
      font-size: 13px;
      margin-top: 6px;
      text-align: left;
      display: none;
    }

    .start-btn {
      padding: 16px 48px;
      background: linear-gradient(135deg, #c0392b, #e74c3c);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 17px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.2s;
      width: 100%;
    }

    .start-btn:hover { opacity: 0.9; }

    .quiz-body { padding: 35px 40px 40px; }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
    }

    .question-number {
      font-size: 13px;
      font-weight: 600;
      color: #c0392b;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .player-name-tag {
      font-size: 13px;
      font-weight: 600;
      color: #555;
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 20px;
      padding: 4px 14px;
    }

    .score-badge {
      background: #fef9f9;
      border: 2px solid #c0392b;
      color: #c0392b;
      border-radius: 20px;
      padding: 4px 14px;
      font-size: 13px;
      font-weight: 700;
    }

    .question-text {
      font-size: 21px;
      font-weight: 700;
      color: #1a1a2e;
      line-height: 1.4;
      margin-bottom: 28px;
    }

    .answers {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    .answer-btn {
      background: #f8f9fa;
      border: 2.5px solid #e0e0e0;
      border-radius: 12px;
      padding: 16px 18px;
      font-size: 15px;
      font-weight: 500;
      color: #333;
      cursor: pointer;
      text-align: left;
      transition: all 0.2s ease;
      line-height: 1.3;
    }

    .answer-btn:hover:not(:disabled) {
      background: #fef5f5;
      border-color: #c0392b;
      color: #c0392b;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(192,57,43,0.15);
    }

    .answer-btn.correct { background: #e8f8f0; border-color: #27ae60; color: #1e8449; }
    .answer-btn.wrong   { background: #fdf0f0; border-color: #e74c3c; color: #c0392b; }
    .answer-btn:disabled { cursor: default; }

    .feedback {
      margin-top: 20px;
      padding: 14px 18px;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      display: none;
    }

    .feedback.correct {
      background: #e8f8f0;
      color: #1e8449;
      border-left: 5px solid #27ae60;
      display: block;
    }

    .feedback.wrong {
      background: #fdf0f0;
      color: #c0392b;
      border-left: 5px solid #e74c3c;
      display: block;
    }

    .next-btn {
      display: none;
      margin-top: 24px;
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #c0392b, #e74c3c);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .next-btn:hover { opacity: 0.9; }

    .result-screen {
      display: none;
      padding: 40px;
      text-align: center;
    }

    .result-emoji { font-size: 72px; margin-bottom: 16px; }

    .result-screen h2 {
      font-size: 28px;
      font-weight: 800;
      color: #1a1a2e;
      margin-bottom: 6px;
    }

    .result-player-name {
      font-size: 18px;
      color: #c0392b;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .result-screen .score-display {
      font-size: 54px;
      font-weight: 900;
      color: #c0392b;
      margin: 16px 0 4px;
    }

    .result-percent {
      font-size: 22px;
      font-weight: 700;
      color: #888;
      margin-bottom: 6px;
    }

    .result-screen p { color: #666; font-size: 15px; margin-bottom: 6px; }

    .result-message {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 16px 24px;
      margin: 20px 0 16px;
      font-size: 16px;
      font-weight: 600;
      color: #444;
    }

    .discord-status {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: #5865F2;
      color: white;
      border-radius: 10px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 20px;
    }

    .discord-status.sending { background: #7289da; }
    .discord-status.success { background: #27ae60; }
    .discord-status.error   { background: #e74c3c; }

    .restart-btn {
      padding: 16px 40px;
      background: linear-gradient(135deg, #c0392b, #e74c3c);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.2s;
      width: 100%;
    }

    .restart-btn:hover { opacity: 0.9; }

    @media (max-width: 520px) {
      .answers { grid-template-columns: 1fr; }
      .quiz-body { padding: 24px 20px 28px; }
    }
  </style>
</head>
<body>

<div class="container">

  <div class="header">
    <div class="logo">üá®üá≠</div>
    <h1>SBB Quiz</h1>
    <p>Test your knowledge about Swiss Federal Railways!</p>
  </div>

  <div class="progress-bar-wrap">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="start-screen" id="startScreen">
    <div class="train-anim">üöÑ</div>
    <h2>Ready to board?</h2>
    <p>10 random questions about SBB ‚Äî Swiss tunnels, trains, passes, mountain railways, and more.<br>Your results will be posted to Discord when you finish!</p>

    <div class="name-wrap">
      <label class="name-label" for="playerName">üë§ Enter your name before starting:</label>
      <input
        class="name-input"
        type="text"
        id="playerName"
        placeholder="e.g. Hans M√ºller"
        maxlength="32"
        onkeydown="if(event.key==='Enter') startQuiz()"
      />
      <div class="name-error" id="nameError">‚ö†Ô∏è Please enter your name to continue.</div>
    </div>

    <button class="start-btn" onclick="startQuiz()">Start Quiz üöÄ</button>
  </div>

  <div class="quiz-body" id="quizBody" style="display:none;">
    <div class="top-bar">
      <span class="question-number" id="questionNumber">Question 1 / 10</span>
      <span class="player-name-tag" id="playerNameTag"></span>
      <span class="score-badge" id="scoreBadge">Score: 0</span>
    </div>
    <div class="question-text" id="questionText"></div>
    <div class="answers" id="answersGrid"></div>
    <div class="feedback" id="feedback"></div>
    <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Next Question ‚Üí</button>
  </div>

  <div class="result-screen" id="resultScreen">
    <div class="result-emoji" id="resultEmoji"></div>
    <h2>Quiz Complete!</h2>
    <div class="result-player-name" id="resultPlayerName"></div>
    <div class="score-display" id="finalScore"></div>
    <div class="result-percent" id="finalPercent"></div>
    <p>out of 10 questions correct</p>
    <div class="result-message" id="resultMessage"></div>
    <div class="discord-status sending" id="discordStatus">‚è≥ Sending results to Discord...</div>
    <button class="restart-btn" onclick="restartQuiz()">üîÑ Play Again</button>
  </div>

</div>

<script>
  const WEBHOOK_URL = 'https://discord.com/api/webhooks/1476865841395007540/gRnwY9OVQz_SwxG6tYr2N_hCuQxnzeAbSlMQRn2ZMfHKZCBeFgFuk9NKH2TluPaYRWBe';
  const QUESTIONS_PER_GAME = 10;

  // ‚îÄ‚îÄ QUESTION BANK (100 questions) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const allQuestions = [
    {
      question: "What does SBB stand for in German?",
      answers: ["Schweizerische Bundesbahnen","Schweizer Bahn Betrieb","Schweizerische Bahnbetriebe","Staatliche Bahn der B√ºrger"],
      correct: 0
    },
    {
      question: "What does CFF stand for ‚Äî the French acronym for SBB?",
      answers: ["Chemins de fer f√©d√©raux suisses","Compagnie Ferroviaire F√©d√©rale","Chemins F√©d√©raux de France","Chemin de Fer Franco-Suisse"],
      correct: 0
    },
    {
      question: "What does FFS stand for ‚Äî the Italian acronym for SBB?",
      answers: ["Ferrovie F√©d√©rali Svizzere","Ferroviaria Federale Svizzera","Ferrovie federali svizzere","Ferrovia Federale Svizzera"],
      correct: 2
    },
    {
      question: "In what year was SBB founded?",
      answers: ["1895","1902","1910","1918"],
      correct: 1
    },
    {
      question: "Where is SBB's headquarters located?",
      answers: ["Zurich","Geneva","Basel","Bern"],
      correct: 3
    },
    {
      question: "What is the world's longest railway tunnel?",
      answers: ["Seikan Tunnel","Channel Tunnel","L√∂tschberg Base Tunnel","Gotthard Base Tunnel"],
      correct: 3
    },
    {
      question: "How long is the Gotthard Base Tunnel?",
      answers: ["34.6 km","45.0 km","57.1 km","64.0 km"],
      correct: 2
    },
    {
      question: "In what year did the Gotthard Base Tunnel open to regular passenger traffic?",
      answers: ["2012","2014","2016","2018"],
      correct: 2
    },
    {
      question: "In what year did the original Gotthard Mountain Tunnel open?",
      answers: ["1871","1882","1895","1906"],
      correct: 1
    },
    {
      question: "What is Switzerland's busiest railway station?",
      answers: ["Geneva Cornavin","Basel SBB","Bern","Zurich HB"],
      correct: 3
    },
    {
      question: "What is the GA Travelcard (Generalabonnement)?",
      answers: ["A discount card giving 50% off all fares","An annual pass for unlimited travel on Swiss public transport","A tourist pass valid for 8 days","A business travel card for commuters"],
      correct: 1
    },
    {
      question: "What is the Half-Fare Card (Halbtaxabonnement)?",
      answers: ["A card offering 25% discount on most fares","A card offering 50% discount on most Swiss rail fares","A pass for unlimited second-class travel","A youth rail card for under-25s"],
      correct: 1
    },
    {
      question: "What electrical system does SBB use to power its trains?",
      answers: ["25,000V 50Hz AC","3,000V DC overhead","1,500V DC overhead","15,000V 16.7Hz AC"],
      correct: 3
    },
    {
      question: "What is Switzerland internationally renowned for regarding its railways?",
      answers: ["Having the world's fastest trains","Having the highest rail passenger usage per capita in the world","Having the lowest rail fares in Europe","Operating trains exclusively on solar energy"],
      correct: 1
    },
    {
      question: "In what year did Switzerland introduce its nationwide clockface timetable (Taktfahrplan)?",
      answers: ["1975","1982","1990","1995"],
      correct: 1
    },
    {
      question: "What scenic tourist train connects Zermatt to St. Moritz?",
      answers: ["Bernina Express","GoldenPass Express","Glacier Express","Wilhelm Tell Express"],
      correct: 2
    },
    {
      question: "What is the Bernina Express?",
      answers: ["A high-speed train between Bern and Italy","A scenic narrow-gauge train between Chur and Tirano, Italy","A tourist boat on Lake Como","A cable car service in Ticino"],
      correct: 1
    },
    {
      question: "The Glacier Express is jointly operated by the Rhaetian Railway (RhB) and which other railway?",
      answers: ["SBB","BLS","Matterhorn Gotthard Bahn","Jungfraubahn"],
      correct: 2
    },
    {
      question: "Which UNESCO World Heritage site features the Rhaetian Railway?",
      answers: ["Jungfrau-Aletsch Glacier","Rhaetian Railway in the Albula/Bernina Landscapes","Monte San Giorgio","Swiss Tectonic Arena Sardona"],
      correct: 1
    },
    {
      question: "Which Swiss cities does TGV Lyria connect to Paris?",
      answers: ["Bern and Lausanne","Geneva and Zurich","Lausanne and Basel","Geneva and Basel"],
      correct: 1
    },
    {
      question: "What night train service does SBB operate in cooperation with √ñBB (Austrian Railways)?",
      answers: ["TGV Nuit","EuroNight","Nightjet","CityNightLine"],
      correct: 2
    },
    {
      question: "In what year did the Zurich S-Bahn suburban rail network launch?",
      answers: ["1982","1986","1990","1994"],
      correct: 2
    },
    {
      question: "Which Swiss company manufactures a large portion of SBB's modern rolling stock?",
      answers: ["Bombardier","Alstom","Siemens","Stadler Rail"],
      correct: 3
    },
    {
      question: "Where is Stadler Rail, a major Swiss train manufacturer, headquartered?",
      answers: ["Zurich","Geneva","Bussnang","Winterthur"],
      correct: 2
    },
    {
      question: "What does FLIRT stand for ‚Äî a popular Stadler Rail commuter train model?",
      answers: ["Flinker Leichter Innovativer Regional Triebzug","Fast Light Intercity Rail Train","Federal Light Integrated Rail Transport","Flexible Light Integrated Regional Transport"],
      correct: 0
    },
    {
      question: "What is the SBB Re 460?",
      answers: ["SBB's main intercity electric passenger locomotive","A double-decker commuter train","A high-speed tilting train","A diesel freight locomotive"],
      correct: 0
    },
    {
      question: "What does BLS stand for?",
      answers: ["Bern‚ÄìLausanne‚ÄìSimplon","Bern‚ÄìL√∂tschberg‚ÄìSimplon","Basel‚ÄìLausanne‚ÄìSimplon","Bern‚ÄìLuzern‚ÄìSimplon"],
      correct: 1
    },
    {
      question: "What does SOB stand for ‚Äî a Swiss regional railway?",
      answers: ["Schweizerische Ostbahn","S√ºdostbahn","Schweizer Ortsbahn","Schweizerische Staatliche Ostbahn"],
      correct: 1
    },
    {
      question: "What is the Jungfraubahn famous for?",
      answers: ["Being the fastest mountain railway in the world","Reaching Jungfraujoch ‚Äî the highest railway station in Europe","Having the steepest gradient in Switzerland","Being the oldest railway in Switzerland"],
      correct: 1
    },
    {
      question: "At what altitude is Jungfraujoch station, the 'Top of Europe', reached by the Jungfraubahn?",
      answers: ["2,500 m","3,000 m","3,454 m","3,800 m"],
      correct: 2
    },
    {
      question: "What is the Pilatus Railway near Lucerne famous for?",
      answers: ["Being the world's longest cogwheel railway","Having the most scenic views in Switzerland","Being the world's steepest cogwheel railway","Being the oldest mountain railway in Europe"],
      correct: 2
    },
    {
      question: "What is the maximum gradient of the Pilatus cogwheel railway?",
      answers: ["35%","41%","48%","55%"],
      correct: 2
    },
    {
      question: "In what year did the Vitznau-Rigi Bahn open, becoming the first mountain railway in Europe?",
      answers: ["1863","1871","1879","1885"],
      correct: 1
    },
    {
      question: "Approximately how long is SBB's main rail network?",
      answers: ["1,500 km","2,300 km","3,300 km","5,000 km"],
      correct: 2
    },
    {
      question: "How long is the L√∂tschberg Base Tunnel?",
      answers: ["21 km","34.6 km","45 km","57 km"],
      correct: 1
    },
    {
      question: "In what year did the L√∂tschberg Base Tunnel open?",
      answers: ["2003","2005","2007","2009"],
      correct: 2
    },
    {
      question: "How long is the Simplon Tunnel, connecting Switzerland to Italy?",
      answers: ["12 km","19.8 km","25 km","31 km"],
      correct: 1
    },
    {
      question: "In what year did the Simplon Tunnel open?",
      answers: ["1898","1902","1906","1912"],
      correct: 2
    },
    {
      question: "What does NRLA stand for ‚Äî the Swiss rail infrastructure project including the Gotthard and Ceneri Base Tunnels?",
      answers: ["National Rail Layout Adjustment","New Rail Link through the Alps","National Railway Long-term Alliance","New Railway Lines for All"],
      correct: 1
    },
    {
      question: "In what year did the Ceneri Base Tunnel open?",
      answers: ["2018","2019","2020","2021"],
      correct: 2
    },
    {
      question: "What high-speed train connects Zurich to Munich?",
      answers: ["TGV","Thalys","ICE","Eurostar"],
      correct: 2
    },
    {
      question: "What does ICN stand for in Swiss rail?",
      answers: ["InterCity Night train","InterCity Neigezug ‚Äî a Swiss tilting intercity train","International Connection Network","InterCity Nord service"],
      correct: 1
    },
    {
      question: "What is a 'Neigezug' in German railway terminology?",
      answers: ["A freight train","A tilting passenger train","A night train","A double-decker train"],
      correct: 1
    },
    {
      question: "At what altitude is Ospizio Bernina, the highest station on the Bernina Line?",
      answers: ["1,800 m","2,000 m","2,253 m","2,500 m"],
      correct: 2
    },
    {
      question: "In what decade was the Bernina Railway built (it opened in 1910)?",
      answers: ["1880s","1890s","1900s","1920s"],
      correct: 2
    },
    {
      question: "What is the GoldenPass Express?",
      answers: ["A luxury express between Zurich and Geneva","A direct panoramic train between Montreux and Interlaken","A tourist helicopter-train combination","A charter train serving ski resorts"],
      correct: 1
    },
    {
      question: "In what year did the GoldenPass Express launch, offering direct service between Montreux and Interlaken for the first time?",
      answers: ["2019","2020","2021","2022"],
      correct: 3
    },
    {
      question: "What is the 'William Tell Express'?",
      answers: ["A high-speed train named after Switzerland's national hero","A tourist journey combining a steamship on Lake Lucerne with a Gotthard train","A night train connecting Basel to Rome","A historic steam train excursion"],
      correct: 1
    },
    {
      question: "Which Italian city is directly connected to Switzerland by the Simplon rail route?",
      answers: ["Turin","Rome","Milan","Venice"],
      correct: 2
    },
    {
      question: "What standard gauge does SBB use?",
      answers: ["750 mm","1,000 mm","1,435 mm","1,520 mm"],
      correct: 2
    },
    {
      question: "What gauge do most Swiss mountain railways (such as those in the Bernese Oberland) use?",
      answers: ["600 mm","750 mm","1,000 mm (metre gauge)","1,200 mm"],
      correct: 2
    },
    {
      question: "What is the SBB Mobile app primarily used for?",
      answers: ["Only purchasing GA Travelcards","Booking tickets, checking timetables and managing travel","Reporting train delays only","Accessing SBB Wi-Fi on trains"],
      correct: 1
    },
    {
      question: "What is the 'Voralpen-Express'?",
      answers: ["A high-speed train between Zurich and Vienna","A regional express between Lucerne and St. Gallen","A tourist train through the pre-Alps","An overnight service to Austria"],
      correct: 1
    },
    {
      question: "What is the Arosa Line?",
      answers: ["A high-speed route from Zurich to Arosa","A metre-gauge railway connecting Chur to Arosa","A ski bus service in Graub√ºnden","A vintage steam railway"],
      correct: 1
    },
    {
      question: "What is SBB Cargo?",
      answers: ["SBB's luxury travel division","SBB's freight transport subsidiary","SBB's international ticketing service","SBB's real estate management division"],
      correct: 1
    },
    {
      question: "In what year did the Pilatus cogwheel railway first open?",
      answers: ["1873","1882","1889","1899"],
      correct: 2
    },
    {
      question: "In what year was the Rhaetian Railway's Albula/Bernina route inscribed as a UNESCO World Heritage Site?",
      answers: ["2000","2004","2008","2012"],
      correct: 2
    },
    {
      question: "What is an 'EuroCity' (EC) train in the Swiss rail context?",
      answers: ["A luxury ultra-high-speed service","International express trains connecting major European cities","An exclusively Swiss cross-border service","A freight corridor between Switzerland and Germany"],
      correct: 1
    },
    {
      question: "How many official national languages does Switzerland have?",
      answers: ["2","3","4","5"],
      correct: 2
    },
    {
      question: "What is a 'Billett' in Swiss German?",
      answers: ["A train platform","A railway ticket","A timetable booklet","A luggage tag"],
      correct: 1
    },
    {
      question: "What is the approximate punctuality rate of SBB trains (arriving within 3 minutes of schedule)?",
      answers: ["75%","85%","92%","99%"],
      correct: 2
    },
    {
      question: "What is the 'Reisezentrum' at SBB stations?",
      answers: ["A first-class waiting lounge","A staffed ticket and travel information centre","A self-service luggage storage area","A restaurant-bar service"],
      correct: 1
    },
    {
      question: "What is PostAuto (PostBus) in relation to the Swiss rail network?",
      answers: ["SBB's luxury express train","A postal bus service connecting train stations to rural areas","A postal train delivering mail","A historic steam train service"],
      correct: 1
    },
    {
      question: "In which Swiss lake region is the Rigi mountain ‚Äî destination of Europe's first mountain railway ‚Äî located?",
      answers: ["Lake Geneva","Lake Zurich","Lake Lucerne","Lake Constance"],
      correct: 2
    },
    {
      question: "What does 'SBB Historic' refer to?",
      answers: ["SBB's department for preserving and displaying vintage trains and railway heritage","A museum app for the history of Swiss railways","SBB's archive of old timetables","A subsidiary running heritage steam tours only"],
      correct: 0
    },
    {
      question: "Zurich HB is often nicknamed what by locals?",
      answers: ["The Gateway to Switzerland","The Heart of Zurich","The Living Room of Zurich","The Swiss Central Hub"],
      correct: 2
    },
    {
      question: "What was Cisalpino AG?",
      answers: ["A historic mountain railway in Ticino","A former joint SBB‚ÄìTrenitalia venture operating cross-border Pendolino services","A Swiss passenger ferry on Lake Maggiore","A freight train corridor"],
      correct: 1
    },
    {
      question: "What is the typical interval between InterCity trains on major SBB corridors?",
      answers: ["15 minutes","30 minutes","60 minutes","2 hours"],
      correct: 1
    },
    {
      question: "Which mountain massif does the Gotthard Base Tunnel pass through?",
      answers: ["Pennine Alps","Bernese Alps","St. Gotthard Massif","Lepontine Alps"],
      correct: 2
    },
    {
      question: "What is the Mont Blanc Express?",
      answers: ["A TGV service from Paris to Chamonix","A metre-gauge railway connecting Martigny (Switzerland) to Chamonix-Mont-Blanc (France)","A helicopter ski service","A tourist bus from Geneva to Mont Blanc"],
      correct: 1
    },
    {
      question: "Approximately how deep below the surface is the deepest point of the Gotthard Base Tunnel?",
      answers: ["500 m","1,000 m","2,300 m","4,000 m"],
      correct: 2
    },
    {
      question: "What does 'InterRegio' (IR) denote in Swiss rail services?",
      answers: ["The fastest Swiss express service","A regional express train stopping at major towns and cities","An international-only service","A nightly service between Swiss cities"],
      correct: 1
    },
    {
      question: "What is the Appenzell Railways (AB)?",
      answers: ["A narrow-gauge railway serving the Appenzell region in eastern Switzerland","A high-speed link from Zurich to Appenzell","A historic museum railway","A cable car network in eastern Switzerland"],
      correct: 0
    },
    {
      question: "In which Swiss canton does the Gotthard Base Tunnel's northern portal open?",
      answers: ["Schwyz","Uri","Lucerne","Graub√ºnden"],
      correct: 1
    },
    {
      question: "In which Swiss canton does the Gotthard Base Tunnel's southern portal open?",
      answers: ["Ticino","Valais","Graub√ºnden","Obwalden"],
      correct: 0
    },
    {
      question: "What is the 'Treno Gottardo'?",
      answers: ["A high-speed freight train","A scenic tourist train running through the Gotthard region on the historic mountain line","A maintenance train for the base tunnel","A night train from Zurich to Rome"],
      correct: 1
    },
    {
      question: "What is the eastern terminus of the Glacier Express?",
      answers: ["Davos","Chur","St. Moritz","Interlaken"],
      correct: 2
    },
    {
      question: "What is the western terminus of the Glacier Express?",
      answers: ["Geneva","Interlaken","Lausanne","Zermatt"],
      correct: 3
    },
    {
      question: "In which country is the southern terminus of the Bernina Express located?",
      answers: ["France","Austria","Italy","Germany"],
      correct: 2
    },
    {
      question: "What is the Italian town where the Bernina Express terminates?",
      answers: ["Bolzano","Tirano","Milan","Como"],
      correct: 1
    },
    {
      question: "What does 'RegioExpress' (RE) denote in Swiss rail?",
      answers: ["The fastest Swiss train service","A regional express stopping at fewer stations than a local RegionalZug","A suburban tram-train service","An overnight regional service"],
      correct: 1
    },
    {
      question: "The Zurich S-Bahn is often cited as what in international comparisons?",
      answers: ["The busiest suburban rail in the world","One of the world's most used suburban rail networks per capita","The oldest S-Bahn in Europe","The fastest S-Bahn network in the world"],
      correct: 1
    },
    {
      question: "What does 'Takt' mean in Swiss railway scheduling?",
      answers: ["Speed","Punctuality","Regular interval / clockface schedule","Track"],
      correct: 2
    },
    {
      question: "What major Swiss rail milestone was achieved in 1882?",
      answers: ["First electrified railway in Europe","Completion of the original Gotthard Mountain Tunnel","Introduction of the national clockface timetable","Opening of the first cogwheel railway in Switzerland"],
      correct: 1
    },
    {
      question: "The Albula Viaducts and spiral tunnels are part of which UNESCO-listed railway?",
      answers: ["SBB main line","BLS L√∂tschberg route","Rhaetian Railway (RhB)","Jungfraubahn"],
      correct: 2
    },
    {
      question: "What is the Schynige Platte Railway?",
      answers: ["A mountain cogwheel railway in the Bernese Oberland","A rack railway in Ticino","A cable car near Zurich","A high-speed test track"],
      correct: 0
    },
    {
      question: "What is the Gornergrat Railway, above Zermatt, notable for?",
      answers: ["Being the world's steepest cogwheel railway","Being Switzerland's first fully electric rack railway, with views of the Matterhorn and Monte Rosa","Being the longest cogwheel railway in the world","Being Europe's oldest surviving rack railway"],
      correct: 1
    },
    {
      question: "What is the Matterhorn Gotthard Bahn (MGBahn)?",
      answers: ["A rack railway to the summit of the Matterhorn","A metre-gauge railway in Valais and Uri, co-operator of the Glacier Express","A cable car network in Zermatt","A high-speed test train"],
      correct: 1
    },
    {
      question: "How is Zurich Airport connected to the city centre by rail?",
      answers: ["A dedicated airport express train","Via the Zurich S-Bahn airport line directly into Zurich HB","A shuttle bus to the nearest S-Bahn station","A metro line"],
      correct: 1
    },
    {
      question: "What is the Jungfraubahn's destination at the 'Top of Europe'?",
      answers: ["Eiger summit","M√∂nch summit","Jungfraujoch saddle (between M√∂nch and Jungfrau)","Finsteraarhorn"],
      correct: 2
    },
    {
      question: "What is the Rigi's significance in European railway history?",
      answers: ["First electrified railway in Europe","Site of the first mountain railway in Europe (1871)","First rack railway in the world","First mountain tunnel in Europe"],
      correct: 1
    },
    {
      question: "What is the √ñBB Railjet, which operates between Zurich and Vienna?",
      answers: ["Austria's high-speed flagship train service connecting Zurich, Salzburg and Vienna","Germany's fastest long-distance train","A night train between Switzerland and Austria","An Austrian suburban rail service"],
      correct: 0
    },
    {
      question: "Near which village is the famous Landwasser Viaduct, a UNESCO-listed arch bridge on the Rhaetian Railway?",
      answers: ["Near Filisur in Graub√ºnden","Near Chur","Near Davos","Near Lugano"],
      correct: 0
    },
    {
      question: "What is the Z√ºrich Durchmesserlinie (Zurich Cross-City Line)?",
      answers: ["A new underground railway diameter line through Zurich city centre, opened in 2014","A tram line running across Zurich","A motorway tunnel under Zurich","A planned high-speed rail link"],
      correct: 0
    },
    {
      question: "What makes the Gotthard Base Tunnel fundamentally different from the original Gotthard Mountain Tunnel?",
      answers: ["It is a flat, low-level tunnel at valley floor level ‚Äî not a mountain climb","It is a rack-and-pinion tunnel","It runs at a higher altitude than the mountain tunnel","It is shorter than the mountain tunnel"],
      correct: 0
    },
    {
      question: "What was the significance of the Ceneri Base Tunnel opening in 2020?",
      answers: ["It became the world's longest tunnel","It completed the flat, high-speed rail corridor through all of Ticino to the Italian border","It replaced the Gotthard mountain line entirely","It reduced the Zurich‚ÄìGeneva journey time to under one hour"],
      correct: 1
    },
    {
      question: "What is the Golden Pass Line?",
      answers: ["A high-speed line between Zurich and Geneva","A scenic railway route connecting Montreux to Interlaken and Lucerne through the Swiss Alps","A heritage steam railway in the Bernese Oberland","A cable car network near the Eiger"],
      correct: 1
    },
    {
      question: "What marketing slogan is the Glacier Express famously associated with?",
      answers: ["The fastest train through the Alps","The world's slowest express train","Switzerland's most scenic railway journey","The train of four languages"],
      correct: 1
    },
    {
      question: "What is the Brienz Rothorn Bahn?",
      answers: ["A cable car near Brienz","A historic steam-powered rack railway climbing the Brienz Rothorn mountain","A high-speed test track near Bern","A vintage tram in Bern"],
      correct: 1
    },
    {
      question: "What is the Swiss Federal Office of Transport (BAV) responsible for?",
      answers: ["Operating all train services in Switzerland","Supervising and regulating Swiss public transport on behalf of the federal government","Building new railway lines","Selling tickets for SBB"],
      correct: 1
    }
  ];

  // ‚îÄ‚îÄ SHUFFLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function shuffle(arr) {
    const a = [...arr];
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  // ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  let questions = [];
  let currentQuestion = 0;
  let score = 0;
  let answered = false;
  let playerName = '';

  // ‚îÄ‚îÄ START ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function startQuiz() {
    const input = document.getElementById('playerName').value.trim();
    if (!input) {
      document.getElementById('nameError').style.display = 'block';
      document.getElementById('playerName').focus();
      return;
    }
    document.getElementById('nameError').style.display = 'none';
    playerName = input;

    questions = shuffle(allQuestions).slice(0, QUESTIONS_PER_GAME);

    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('quizBody').style.display = 'block';
    document.getElementById('playerNameTag').textContent = 'üë§ ' + playerName;
    showQuestion();
  }

  // ‚îÄ‚îÄ SHOW QUESTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function showQuestion() {
    answered = false;
    const q = questions[currentQuestion];

    const correctText = q.answers[q.correct];
    const shuffledAnswers = shuffle(q.answers);
    q._display = { answers: shuffledAnswers, correct: shuffledAnswers.indexOf(correctText) };

    document.getElementById('questionNumber').textContent = `Question ${currentQuestion + 1} / ${questions.length}`;
    document.getElementById('scoreBadge').textContent = `Score: ${score}`;
    document.getElementById('questionText').textContent = q.question;
    document.getElementById('feedback').className = 'feedback';
    document.getElementById('feedback').textContent = '';
    document.getElementById('nextBtn').style.display = 'none';

    const progress = (currentQuestion / questions.length) * 100;
    document.getElementById('progressBar').style.width = progress + '%';

    const grid = document.getElementById('answersGrid');
    grid.innerHTML = '';
    q._display.answers.forEach((ans, i) => {
      const btn = document.createElement('button');
      btn.className = 'answer-btn';
      btn.textContent = ans;
      btn.onclick = () => selectAnswer(i);
      grid.appendChild(btn);
    });
  }

  // ‚îÄ‚îÄ SELECT ANSWER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function selectAnswer(index) {
    if (answered) return;
    answered = true;

    const q = questions[currentQuestion];
    const { answers: displayAnswers, correct: correctIndex } = q._display;
    const buttons = document.querySelectorAll('.answer-btn');
    const feedback = document.getElementById('feedback');

    buttons.forEach(btn => btn.disabled = true);

    if (index === correctIndex) {
      buttons[index].classList.add('correct');
      feedback.textContent = '‚úÖ Correct! Well done!';
      feedback.className = 'feedback correct';
      score++;
    } else {
      buttons[index].classList.add('wrong');
      buttons[correctIndex].classList.add('correct');
      feedback.textContent = `‚ùå Wrong! The correct answer was: "${displayAnswers[correctIndex]}"`;
      feedback.className = 'feedback wrong';
    }

    document.getElementById('scoreBadge').textContent = `Score: ${score}`;

    const nextBtn = document.getElementById('nextBtn');
    nextBtn.style.display = 'block';
    nextBtn.textContent = currentQuestion < questions.length - 1 ? 'Next Question ‚Üí' : 'See Results üèÅ';
  }

  // ‚îÄ‚îÄ NEXT QUESTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < questions.length) {
      showQuestion();
    } else {
      showResults();
    }
  }

  // ‚îÄ‚îÄ SHOW RESULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function showResults() {
    document.getElementById('quizBody').style.display = 'none';
    document.getElementById('progressBar').style.width = '100%';
    document.getElementById('resultScreen').style.display = 'block';

    const percent = Math.round((score / questions.length) * 100);

    document.getElementById('finalScore').textContent = `${score} / ${questions.length}`;
    document.getElementById('finalPercent').textContent = `${percent}%`;
    document.getElementById('resultPlayerName').textContent = playerName;

    let emoji, message;
    if (score === questions.length) {
      emoji = 'üèÜ';
      message = 'Perfect score! You\'re a true SBB expert ‚Äî the Swiss railways would be proud!';
    } else if (score >= 8) {
      emoji = 'ü•á';
      message = 'Excellent! You know Swiss railways very well. Bravo!';
    } else if (score >= 6) {
      emoji = 'ü•à';
      message = 'Good job! You know your trains, but there\'s still room to improve.';
    } else if (score >= 4) {
      emoji = 'ü•â';
      message = 'Not bad! Maybe ride a few more Swiss trains to brush up your knowledge.';
    } else {
      emoji = 'üöÉ';
      message = 'Looks like you missed your connection! Try again and learn more about SBB.';
    }

    document.getElementById('resultEmoji').textContent = emoji;
    document.getElementById('resultMessage').textContent = message;

    sendToDiscord(playerName, score, percent, emoji, message);
  }

  // ‚îÄ‚îÄ SEND TO DISCORD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  async function sendToDiscord(name, score, percent, emoji, message) {
    const statusEl = document.getElementById('discordStatus');

    let color;
    if (score === questions.length) color = 0xF1C40F;
    else if (score >= 8)           color = 0x27AE60;
    else if (score >= 6)           color = 0x2ECC71;
    else if (score >= 4)           color = 0xE67E22;
    else                           color = 0xE74C3C;

    const filled = Math.round(score);
    const empty  = questions.length - filled;
    const bar = '‚ñà'.repeat(filled) + '‚ñë'.repeat(empty);

    const payload = {
      embeds: [{
        title: 'üá®üá≠ SBB Quiz ‚Äî New Result!',
        color: color,
        fields: [
          { name: 'üë§ Player',     value: `**${name}**`,                        inline: true },
          { name: 'üéØ Score',      value: `**${score} / ${questions.length}**`, inline: true },
          { name: 'üìä Percentage', value: `**${percent}%**`,                    inline: true },
          { name: 'üìà Progress',   value: `\`${bar}\` ${emoji}`,                inline: false },
          { name: 'üí¨ Verdict',    value: message,                               inline: false }
        ],
        footer: { text: 'SBB Quiz' },
        timestamp: new Date().toISOString()
      }]
    };

    try {
      const res = await fetch(WEBHOOK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      if (res.ok) {
        statusEl.textContent = '‚úÖ Results posted to Discord!';
        statusEl.className = 'discord-status success';
      } else {
        throw new Error(`HTTP ${res.status}`);
      }
    } catch (err) {
      statusEl.textContent = '‚ùå Could not reach Discord. Check your connection.';
      statusEl.className = 'discord-status error';
      console.error('Discord webhook error:', err);
    }
  }

  // ‚îÄ‚îÄ RESTART ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function restartQuiz() {
    currentQuestion = 0;
    score = 0;
    playerName = '';
    questions = [];
    document.getElementById('playerName').value = '';
    document.getElementById('resultScreen').style.display = 'none';
    document.getElementById('startScreen').style.display = 'block';
    document.getElementById('progressBar').style.width = '0%';
    document.getElementById('discordStatus').textContent = '‚è≥ Sending results to Discord...';
    document.getElementById('discordStatus').className = 'discord-status sending';
  }
</script>

</body>
</html>
